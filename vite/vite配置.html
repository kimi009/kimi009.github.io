<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vite 配置 | kimi 博客</title>
    <meta name="description" content="kimi的踩坑记录">
    <link rel="stylesheet" href="/assets/style.c3210e46.css">
    <link rel="modulepreload" href="/assets/app.87eb6f1c.js">
    <link rel="modulepreload" href="/assets/vite_vite配置.md.10e00a82.lean.js">
    
    <link rel="icon" href="/1.png">
  <meta name="keywords" content="vitepress kimi">
  <meta name="twitter:title" content="vite 配置 | kimi 博客">
  <meta property="og:title" content="vite 配置 | kimi 博客">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="kimi 博客, back to home" data-v-675d8756 data-v-cc01ef16><!----> kimi 博客</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>前端基础</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/ts/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Typescript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/html/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>HTML</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/js/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>JS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/css/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>CSS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>web</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/canvas/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>canvas</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>前端框架</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vue2/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue2</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vue3/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue3</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/react/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>React</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/Nuxt/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Nuxt</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/microFront/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>microFront</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/thirdLib/" data-v-b8818f8c>第三方库 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>工程化</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/vite/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vite</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/monorepo/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>monorepo</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/webpack/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Webpack</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/husky/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>husky</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/prettier/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>prettier</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/editorconfig/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>editorconfig</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/npm/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>npm</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/pnpm/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>pnpm</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/roolup/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>roolup</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/esbuild/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>esbuild</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/eslint/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>eslint</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vscode/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vscode</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>运维</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/git/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>git</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nginx/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nginx</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/jenkins/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>jenkins</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/docker/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>docker</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/pm2/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>pm2</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>linux</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>后端</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nodejs/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nodejs</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nest/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nest</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>python</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>数据库</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/mysql/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>mysql</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/mongodb/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>mongodb</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>前端基础</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/ts/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Typescript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/html/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>HTML</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/js/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>JS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/css/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>CSS</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/web/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>web</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/canvas/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>canvas</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>前端框架</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vue2/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue2</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vue3/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Vue3</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/react/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>React</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/Nuxt/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Nuxt</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/microFront/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>microFront</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/thirdLib/" data-v-b8818f8c>第三方库 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>工程化</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/vite/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vite</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/monorepo/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>monorepo</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/webpack/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>Webpack</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/husky/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>husky</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/prettier/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>prettier</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/editorconfig/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>editorconfig</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/npm/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>npm</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/pnpm/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>pnpm</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/roolup/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>roolup</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/esbuild/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>esbuild</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/eslint/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>eslint</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vscode/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>vscode</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>运维</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/git/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>git</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nginx/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nginx</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/jenkins/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>jenkins</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/docker/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>docker</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/pm2/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>pm2</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/linux/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>linux</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>后端</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nodejs/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nodejs</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/nest/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nest</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/python/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>python</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>数据库</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/mysql/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>mysql</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/mongodb/" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>mongodb</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/vite/index">vite</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/vite/vite配置">vite配置</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#vite-config-js配置">vite.config.js配置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#postcss">postcss</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vite/构建工具">构建工具</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="vite-配置" tabindex="-1">vite 配置 <a class="header-anchor" href="#vite-配置" aria-hidden="true">#</a></h1><h2 id="vite-config-js配置" tabindex="-1">vite.config.js配置 <a class="header-anchor" href="#vite-config-js配置" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token literal-property property">root</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 项目根目录（index.html 文件所在的位置）,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 开发或生产环境服务的公共基础路径 配置引入相对路径</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 模式</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 需要用到的插件数组</span>
  <span class="token literal-property property">publicDir</span><span class="token operator">:</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 静态资源服务的文件夹</span>
  <span class="token literal-property property">cacheDir</span><span class="token operator">:</span> <span class="token string">&#39;node_modules/.vite&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 存储缓存文件的目录</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 文件系统路径别名</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">find</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/@\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">replacement</span><span class="token operator">:</span> <span class="token function">pathResolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dedupe</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 强制 Vite 始终将列出的依赖项解析为同一副本</span>
    <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 解决程序包中 情景导出 时的其他允许条件</span>
    <span class="token literal-property property">mainFields</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 解析包入口点尝试的字段列表</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.mjs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.ts&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.json&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 导入时想要忽略的扩展名列表</span>
    <span class="token literal-property property">preserveSymlinks</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 启用此选项会使 Vite 通过原始文件路径确定文件身份</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//对csss行为进行配置</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//下面就是开始css模块化，这个modules会传给postcss modules</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//是对css模块化的默认行为进行配置，这个配置最终还丢给postcss modules</span>
      <span class="token literal-property property">localsConvention</span><span class="token operator">:</span><span class="token string">&quot;camelCase&quot;</span><span class="token punctuation">,</span> <span class="token comment">//vite转换css后的展现形式</span>
      <span class="token literal-property property">scopeBehaviour</span><span class="token operator">:</span> <span class="token string">&#39;global&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;local&#39;</span><span class="token punctuation">,</span> <span class="token comment">//配置当前的模块化行为是模块化还是全局，默认是local，（有hash值就表示开启了模块化标志），一般是不去配置global的</span>
      <span class="token literal-property property">generateScopeName</span><span class="token operator">:</span><span class="token string">&#39;[name]_[local]_[hash:5]&#39;</span><span class="token punctuation">,</span><span class="token comment">//生成的类名的格式,也可以配置为函数，但是一般不去修改，这些name、local 最终都是给postcss modules配置的</span>
      <span class="token literal-property property">hashPrefix</span><span class="token operator">:</span><span class="token string">&#39;kimi&#39;</span><span class="token punctuation">,</span><span class="token comment">//生成的has会把你这个前缀，参与到hash的生产规则里面去（只要传入的字符串不一样，生成的hash值就不一样；只要传入的字符串一样，生成的hash值就一样）</span>
      <span class="token literal-property property">globalModulePaths</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表示你不想参与到css模块化的路径</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">postcss</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 内联的 PostCSS 配置 如果提供了该内联配置，Vite 将不会搜索其他 PostCSS 配置源</span>
    <span class="token literal-property property">preprocessorOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// css的预处理器全局参数选项配置</span>
      <span class="token literal-property property">less</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">math</span><span class="token operator">:</span><span class="token string">&quot;always&quot;</span> <span class="token comment">//这个是执行lesssc的时候 传入的命令行参数  如：lessc index.less --math=&quot;always&quot;</span>
        <span class="token literal-property property">globalVars</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token comment">//webpack里面是在less-loader里面配置</span>
          <span class="token literal-property property">mainColor</span><span class="token operator">:</span><span class="token string">&#39;red&#39;</span> <span class="token comment">//这个可以全局使用，避免用@import url(&#39;xxx.less&#39;)</span>
        <span class="token punctuation">}</span> <span class="token comment">//全局变量</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scss</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">/*
				引入var.scss全局预定义变量，
				如果引入多个文件，
				可以使用
				&#39;@import &quot;@/assets/scss/globalVariable1.scss&quot;;
        @import &quot;@/assets/scss/globalVariable2.scss&quot;;&#39;
				这种格式
        webpack 也是可以配置的，在sass-loader里面配置
				 */</span>
		    <span class="token literal-property property">additionalData</span><span class="token operator">:</span> <span class="token string">&#39;@import &quot;@/assets/scss/globalVariable.scss&quot;;&#39;</span>
        <span class="token comment">//additionalData: `$injectedColor: orange;`</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devSourceMap</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token comment">//开启css的sourcemap,在css面板会有详细的css路径，否则就会引导到header的style里面，没法定位问题</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">json</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">namedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否支持从.json文件中进行按名导入</span>
    <span class="token literal-property property">stringify</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//  开启此项，导入的 JSON 会被转换为 export default JSON.parse(&quot;...&quot;) 会禁用按名导入</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">esbuild</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 最常见的用例是自定义 JSX</span>
    <span class="token literal-property property">jsxFactory</span><span class="token operator">:</span> <span class="token string">&#39;h&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">jsxFragment</span><span class="token operator">:</span> <span class="token string">&#39;Fragment&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">assetsInclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.gltf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 指定额外的 picomatch 模式 作为静态资源处理</span>
  <span class="token literal-property property">logLevel</span><span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 调整控制台输出的级别 &#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;silent&#39;</span>
  <span class="token literal-property property">clearScreen</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 设为 false 可以避免 Vite 清屏而错过在终端中打印某些关键信息</span>
  <span class="token literal-property property">envDir</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 用于加载 .env 文件的目录</span>
  <span class="token literal-property property">envPrefix</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 以 envPrefix 开头的环境变量会通过 import.<wbr>meta.env 暴露在你的客户端源码中</span>
  <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 指定服务器应该监听哪个 IP 地址</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// 指定开发服务器端口</span>
    <span class="token literal-property property">strictPort</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 若端口已被占用则会直接退出</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 启用 TLS + HTTP/2</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启动时自动在浏览器中打开应用程序</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 配置自定义代理规则</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 配置 CORS</span>
    <span class="token literal-property property">force</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 强制使依赖预构建</span>
    <span class="token literal-property property">hmr</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 禁用或配置 HMR 连接</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 传递给 chokidar 的文件系统监听器选项</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">middlewareMode</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 以中间件模式创建 Vite 服务器</span>
    <span class="token literal-property property">fs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">strict</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 限制为工作区 root 路径以外的文件的访问</span>
      <span class="token literal-property property">allow</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 限制哪些文件可以通过 /@fs/ 路径提供服务</span>
      <span class="token literal-property property">deny</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.env&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.env.*&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*.{pem,crt}&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 用于限制 Vite 开发服务器提供敏感文件的黑名单</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token string">&#39;http://127.0.0.1:8080/&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 用于定义开发调试阶段生成资产的 origin</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;modules&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 设置最终构建的浏览器兼容目标</span>
    <span class="token literal-property property">polyfillModulePreload</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否自动注入 module preload 的 polyfill</span>
    <span class="token literal-property property">outDir</span><span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出路径</span>
    <span class="token literal-property property">assetsDir</span><span class="token operator">:</span> <span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 指定生成静态文件目录</span>
    <span class="token literal-property property">assetsInlineLimit</span><span class="token operator">:</span> <span class="token string">&#39;4096000&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 小于此阈值的导入或引用资源将内联为 base64 编码</span>
    <span class="token literal-property property">cssCodeSplit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用 CSS 代码拆分</span>
    <span class="token literal-property property">cssTarget</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 允许用户为 CSS 的压缩设置一个不同的浏览器 target 与 build.target 一致</span>
    <span class="token literal-property property">sourcemap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 构建后是否生成 source map 文件</span>
    <span class="token literal-property property">rollupOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//控制输出</span>
        <span class="token comment">//将文件内容和文件名混合计算而得的hash值</span>
        <span class="token comment">//hash和name位置可以互换</span>
        <span class="token comment">// assetFileNames:&#39;[hash].[name].[ext]&#39;</span>
		<span class="token literal-property property">chunkFileNames</span><span class="token operator">:</span> <span class="token string">&#39;js/[name]-[hash].js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 引入文件名的名称</span>
        <span class="token literal-property property">entryFileNames</span><span class="token operator">:</span> <span class="token string">&#39;js/[name]-[hash].js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 包的入口文件名称</span>
        <span class="token literal-property property">assetFileNames</span><span class="token operator">:</span> <span class="token string">&#39;[ext]/[name]-[hash].[ext]&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 资源文件像 字体，图片等</span>
        <span class="token comment">//拆包 </span>
        <span class="token function">manualChunks</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 让每个插件都打包成独立的文件</span>
            <span class="token keyword">return</span> id <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;node_modules/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 告诉打包工具 在external配置的 都是外部依赖项  不需要打包</span>
          <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token function">externalGlobals</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token comment">// &quot;在项目中引入的变量名称&quot;：&quot;CDN包导出的名称，一般在CDN包中都是可见的&quot;</span>
              <span class="token literal-property property">vue</span><span class="token operator">:</span> <span class="token string">&#39;Vue&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token comment">// npm install vite-plugin-compression -D  文件压缩</span>
            <span class="token function">viteCompression</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">verbose</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否在控制台中输出压缩结果</span>
              <span class="token literal-property property">disable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span> <span class="token comment">// 如果体积大于阈值，将被压缩，单位为b，体积过小时请不要压缩，以免适得其反</span>
              <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 压缩算法，可选[&#39;gzip&#39;，&#39; brotliccompress &#39;，&#39;deflate &#39;，&#39;deflateRaw&#39;]</span>
              <span class="token literal-property property">ext</span><span class="token operator">:</span> <span class="token string">&#39;.gz&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">deleteOriginFile</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 源文件压缩后是否删除(我为了看压缩后的效果，先选择了true)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token comment">//npm i vite-plugin-imagemin -D 图片压缩</span>
              <span class="token comment">//viteImagemin报错</span>
              <span class="token comment">//使用 yarn 在 package.json 内配置(推荐)</span>
              <span class="token comment">//&quot;resolutions&quot;: { &quot;bin-wrapper&quot;: &quot;npm:bin-wrapper-china&quot; }</span>
              <span class="token comment">//使用 npm,在电脑 host 文件加上如下配置即可 199.232.4.133 raw.githubusercontent.com</span>
              <span class="token comment">//使用 cnpm 安装(不推荐)</span>
              <span class="token function">viteImagemin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">gifsicle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">optimizationLevel</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">interlaced</span><span class="token operator">:</span> <span class="token boolean">false</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">optipng</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">optimizationLevel</span><span class="token operator">:</span> <span class="token number">7</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">mozjpeg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">20</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">pngquant</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">4</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">svgo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;removeViewBox&#39;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;removeEmptyAttrs&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">false</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 自定义底层的 Rollup 打包配置</span>
    <span class="token literal-property property">lib</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 构建为库</span>
    <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当设置为 true，构建后将会生成 manifest.json 文件</span>
    <span class="token literal-property property">ssrManifest</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 构建不生成 SSR 的 manifest 文件</span>
    <span class="token literal-property property">ssr</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// 生成面向 SSR 的构建</span>
    <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token string">&#39;esbuild&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 指定使用哪种混淆器</span>
    <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">drop_console</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">drop_debugger</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 传递给 Terser 的更多 minify 选项</span>
    <span class="token literal-property property">write</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用将构建后的文件写入磁盘</span>
    <span class="token literal-property property">emptyOutDir</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 构建时清空该目录</span>
    <span class="token literal-property property">brotliSize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用 brotli 压缩大小报告</span>
    <span class="token literal-property property">chunkSizeWarningLimit</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// chunk 大小警告的限制</span>
    <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 设置为 {} 则会启用 rollup 的监听器</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">preview</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// 指定开发服务器端口</span>
    <span class="token literal-property property">strictPort</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 若端口已被占用则会直接退出</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 启用 TLS + HTTP/2</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启动时自动在浏览器中打开应用程序</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 配置自定义代理规则</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cors</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 配置 CORS</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimizeDeps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entries</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 指定自定义条目——该值需要遵循 fast-glob 模式</span>
    <span class="token comment">//**在预构建中强制排除的依赖项,如lodash-es,一旦开启，浏览器就会搜索所有的依赖，依次加载，关闭之后就会启动依赖预构建，vite会尽可能将其集成到node_modules/.vite/deps下面方便浏览器加载**</span>
    <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可强制预构建链接的包</span>
    <span class="token literal-property property">keepNames</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// true 可以在函数和类上保留 name 属性</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ssr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 列出的是要为 SSR 强制外部化的依赖,</span>
    <span class="token literal-property property">noExternal</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 列出的是防止被 SSR 外部化依赖项</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;node&#39;</span><span class="token punctuation">,</span> <span class="token comment">// SSR 服务器的构建目标</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="postcss" tabindex="-1">postcss <a class="header-anchor" href="#postcss" aria-hidden="true">#</a></h2><ul><li>类似于全屋净水系统，是对less,scss等高级样式处理 ,本身不会再对less,sass的语法做转化，是一个后处理器 是被less-loader或者是sass-loader转化后再交给postcss处理</li></ul><p>1、对未来css属性的一些使用降级 2、前缀补全： google采用--webkit</p><ul><li><p>使用，需要安装下面两个库</p><blockquote><p>pnpm add postcss-cli postcss -D</p></blockquote></li><li><p>postcss.config.js</p><div class="language-js"><pre><code>  <span class="token comment">//postcss-preset-env 预设插件里面其实是包含了很多的插件</span>

  <span class="token keyword">const</span> postcssPresetEnv <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token function">postcssPresetEnv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">//下面这个主要是用来处理css中使用全局变量后，在浏览器中缺少划线样式的问题，其实就是兼容性问题,其主要原因还是因为postcss没有记忆功能，加上vite是按需加载，当加载完一个文件后就不管了，这样的话，当加载完全局变量文件后，没有被postcss记忆就会造成后续处理其他的css文件中的全局变量的时候没法转换</span>
        <span class="token literal-property property">importFrom</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src/style.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//上面的路径不能用相对路径，否则就会用process.cwd()和这个相对路径拼接，这样如果不在当前的目录执行，切换到别的目录执行就会导致文件找不到</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

</code></pre></div><div class="language-css"><pre><code><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bgcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>就是把下面的样式通过上面配置的importFrom转换为下面的样式</p></blockquote><p><s>background-color: #89ae23;</s></p><p>background-color: var(--bgcolor);</p></li><li><p>分析打包体积</p><div class="language-vue"><pre><code>rollup-plugin-visualizer是一个打包体积分析插件，对应webpack中的webpack-bundle-analyzer。配置好后运行构建命令会生成一个stats.html
</code></pre></div><div class="language-bash"><pre><code><span class="token function">npm</span> i rollup-plugin-visualizer -D

<span class="token function">import</span> <span class="token punctuation">{</span> visualizer <span class="token punctuation">}</span> from <span class="token string">&#39;rollup-plugin-visualizer&#39;</span>

plugins: <span class="token punctuation">[</span>
    visualizer<span class="token punctuation">(</span><span class="token punctuation">{</span>open: true<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>

<span class="token function">npm</span> run build // 打包结束后会出现下图
</code></pre></div></li><li><p>vite.config.ts参考配置</p></li></ul><div class="language-typescript"><pre><code>js
复制代码<span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createHtmlPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-html&#39;</span>
<span class="token keyword">import</span> viteImagemin <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-imagemin&#39;</span>
<span class="token keyword">import</span> externalGlobals <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-external-globals&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> visualizer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-visualizer&#39;</span>
<span class="token keyword">import</span> viteCompression <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-compression&#39;</span>
<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">visualizer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> open<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 将下面的添加到plugin下</span>
    <span class="token function">createHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      inject<span class="token operator">:</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
          vuescript<span class="token operator">:</span> <span class="token string">&#39;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@3.2.25&quot;&gt;&lt;/script&gt;&#39;</span><span class="token punctuation">,</span>
          demiScript<span class="token operator">:</span> <span class="token string">&#39;&lt;script src=&quot;//cdn.jsdelivr.net/npm/vue-demi@0.13.7&quot;&gt;&lt;/script&gt;&#39;</span><span class="token punctuation">,</span>
          elementPlusScript<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
            &lt;link href=&quot;https://cdn.jsdelivr.net/npm/element-plus@2.2.22/dist/index.min.css&quot; rel=&quot;stylesheet&quot;&gt;
            &lt;script src=&quot;https://cdn.jsdelivr.net/npm/element-plus@2.2.22/dist/index.full.min.js&quot;&gt;&lt;/script&gt;
          </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          echartsSciprt<span class="token operator">:</span> <span class="token string">&#39;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/echarts@5.0.2/dist/echarts.min.js&quot;&gt;&lt;/script&gt;&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">viteImagemin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      gifsicle<span class="token operator">:</span> <span class="token punctuation">{</span>
        optimizationLevel<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        interlaced<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      optipng<span class="token operator">:</span> <span class="token punctuation">{</span>
        optimizationLevel<span class="token operator">:</span> <span class="token number">7</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      mozjpeg<span class="token operator">:</span> <span class="token punctuation">{</span>
        quality<span class="token operator">:</span> <span class="token number">20</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      pngquant<span class="token operator">:</span> <span class="token punctuation">{</span>
        quality<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        speed<span class="token operator">:</span> <span class="token number">4</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      svgo<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;removeViewBox&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&#39;removeEmptyAttrs&#39;</span><span class="token punctuation">,</span>
            active<span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  build<span class="token operator">:</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">&#39;es2020&#39;</span><span class="token punctuation">,</span>
    minify<span class="token operator">:</span> <span class="token string">&#39;terser&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// rollup 配置</span>
    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      output<span class="token operator">:</span> <span class="token punctuation">{</span>
        chunkFileNames<span class="token operator">:</span> <span class="token string">&#39;js/[name]-[hash].js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 引入文件名的名称</span>
        entryFileNames<span class="token operator">:</span> <span class="token string">&#39;js/[name]-[hash].js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 包的入口文件名称</span>
        assetFileNames<span class="token operator">:</span> <span class="token string">&#39;[ext]/[name]-[hash].[ext]&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 资源文件像 字体，图片等</span>
        <span class="token function">manualChunks</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&#39;vendor&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//  告诉打包工具 在external配置的 都是外部依赖项  不需要打包</span>
      external<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;element-plus&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;echarts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">externalGlobals</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          vue<span class="token operator">:</span> <span class="token string">&#39;Vue&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;element-plus&#39;</span><span class="token operator">:</span> <span class="token string">&#39;ElementPlus&#39;</span><span class="token punctuation">,</span>
          echarts<span class="token operator">:</span> <span class="token string">&#39;echarts&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;vue-demi&#39;</span><span class="token operator">:</span> <span class="token string">&#39;VueDemi&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">viteCompression</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          verbose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否在控制台中输出压缩结果</span>
          disable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span> <span class="token comment">// 如果体积大于阈值，将被压缩，单位为b，体积过小时请不要压缩，以免适得其反</span>
          algorithm<span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 压缩算法，可选[&#39;gzip&#39;，&#39; brotliccompress &#39;，&#39;deflate &#39;，&#39;deflateRaw&#39;]</span>
          ext<span class="token operator">:</span> <span class="token string">&#39;.gz&#39;</span><span class="token punctuation">,</span>
          deleteOriginFile<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 源文件压缩后是否删除</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      compress<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 生产环境时移除console</span>
        drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        drop_debugger<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/vite/" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>vite</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/vite/构建工具" data-v-38ede35f><span class="text" data-v-38ede35f>构建工具</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"nuxt_nuxt2.md\":\"d463e646\",\"nuxt_index.md\":\"4f34438f\",\"canvas_index.md\":\"32920643\",\"canvas_node-canvas.md\":\"db1a1efe\",\"canvas_文档转化为图片.md\":\"3c36eb73\",\"css_dropanddown.md\":\"f1772373\",\"css_flex布局.md\":\"19542b83\",\"css_grid布局.md\":\"a485ff28\",\"css_index.md\":\"98026b49\",\"css_interview.md\":\"6a7d0154\",\"css_scrollreveal.md\":\"b6fafc9b\",\"css_windicss.md\":\"b9208700\",\"css_大屏响应式布局.md\":\"1e12d8a1\",\"css_省略号.md\":\"2e60eb37\",\"docker_container.md\":\"c63de16e\",\"docker_index.md\":\"b432d4b4\",\"editorconfig_editorconfig配置.md\":\"fa85a524\",\"editorconfig_index.md\":\"cbb6fcd3\",\"esbuild_esbuild.md\":\"69156e4e\",\"esbuild_index.md\":\"c2099c4a\",\"eslint_eslint.md\":\"838da2fc\",\"eslint_index.md\":\"7df72470\",\"git_gitsubmodule.md\":\"3a55fa27\",\"git_gitsubtree.md\":\"ed4fa05e\",\"git_index.md\":\"7ea229b9\",\"git_打补丁.md\":\"80dd8bfb\",\"html_index.md\":\"4ed67439\",\"html_interview.md\":\"8ee28bde\",\"html_test.md\":\"33eb6b66\",\"html_重绘回流.md\":\"dd97593b\",\"husky_index.md\":\"08c24489\",\"index.md\":\"8d3c8f01\",\"jenkins_centos_jenkins.md\":\"9215576b\",\"jenkins_dockerinstalljenkins.md\":\"3536b0c9\",\"jenkins_index.md\":\"8bdd9a40\",\"js_v8 垃圾回收机制.md\":\"0f67aecd\",\"js_arrowfn.md\":\"ae29a348\",\"js_compose函数.md\":\"62689fec\",\"js_cookie.md\":\"97b9d874\",\"js_debounce.md\":\"bc3adff4\",\"js_designpatterns.md\":\"9e83fde0\",\"js_eventbus.md\":\"f0149237\",\"js_generator演变.md\":\"f5b5e750\",\"js_index.md\":\"ddc50abf\",\"js_interview.md\":\"eec027cf\",\"js_jslib.md\":\"1e007352\",\"js_js加载方式.md\":\"d749f59f\",\"js_package.json详解.md\":\"199d6868\",\"js_promise.md\":\"23128dda\",\"js_reg.md\":\"1b488088\",\"js_throttle.md\":\"43caf14e\",\"js_url.md\":\"b7ecc4da\",\"js_位运算.md\":\"fca75e42\",\"js_删除树节点.md\":\"52f33167\",\"js_原型链.md\":\"8108338e\",\"js_复制粘贴.md\":\"d69d7522\",\"js_拷贝.md\":\"ef17f313\",\"js_文件切片上传下载.md\":\"66344dc5\",\"js_最长递增子序列.md\":\"1c570fd8\",\"js_树转化.md\":\"c3d73d7b\",\"js_深度广度遍历.md\":\"e63bab51\",\"js_虚拟滚动.md\":\"07efa53d\",\"js_面试一.md\":\"dc294a6e\",\"linux_centos.md\":\"31923fb1\",\"linux_index.md\":\"ca8daa9c\",\"microfront_index.md\":\"5ffad8af\",\"microfront_microfront.md\":\"a245801c\",\"microfront_qiankun.md\":\"b6993df1\",\"microfront_systemjs.md\":\"98cbb6fd\",\"microfront_webcomponent容器.md\":\"1e5c9eb2\",\"microfront_无界微前端.md\":\"d203d477\",\"mongodb_index.md\":\"63ffde2c\",\"monorepo_index.md\":\"a3f50165\",\"monorepo_vite.md\":\"6c3ed3a1\",\"mysql_index.md\":\"fe3a341d\",\"nest_bcrypt加盐加密包.md\":\"23135b4a\",\"nest_index.md\":\"35ca61de\",\"nest_微信扫码登录.md\":\"9cb1a8f0\",\"nest_管道.md\":\"b52007d0\",\"nest_身份认证.md\":\"fe745fb7\",\"network_http.md\":\"a6eb945a\",\"network_index.md\":\"39a02814\",\"nginx_index.md\":\"893f149c\",\"nodejs_buffer.md\":\"ca652dfd\",\"nodejs_fs.md\":\"fbe9e59c\",\"nodejs_index.md\":\"76f134b8\",\"nodejs_node-excel.md\":\"505715b5\",\"nodejs_node-gyp.md\":\"e0e8fe54\",\"nodejs_前端鉴权.md\":\"d4ac6831\",\"npm_index.md\":\"875785df\",\"npm_npmrc.md\":\"a2e36c39\",\"npm_npm全局包link.md\":\"e5080819\",\"npm_npm第三方包汇总.md\":\"813337ce\",\"pm2_index.md\":\"db4e6b5e\",\"pnpm_index.md\":\"87da3023\",\"pnpm_pnpm.md\":\"046f8bf9\",\"prettier_index.md\":\"ec26d2fd\",\"python_beautifulsoup.md\":\"fa8a778d\",\"python_csv.md\":\"a5b743ef\",\"python_index.md\":\"d6b4b5e9\",\"python_pandas.md\":\"56225d78\",\"python_python.md\":\"1e25c277\",\"python_数据清洗.md\":\"55ed3af1\",\"react_index.md\":\"55379861\",\"roolup_index.md\":\"106c79ce\",\"roolup_roolup.md\":\"0768ddff\",\"thirdlib_index.md\":\"fe88a283\",\"thirdlib_moment.md\":\"69ba839f\",\"thirdlib_nodejs 操作华为obs.md\":\"1d184eec\",\"tools_index.md\":\"fd3ff5d6\",\"ts_index.md\":\"4e779474\",\"ts_infer.md\":\"2a3adbf3\",\"ts_infer学习.md\":\"d1ef3aa8\",\"ts_tsconfig配置文件.md\":\"b95b9efa\",\"ts_ts中extend奇技淫巧.md\":\"ceff01f1\",\"ts_ts注释问题.md\":\"01cdafd0\",\"ts_webpackts.md\":\"b54e23dd\",\"ts_装饰器.md\":\"7fede647\",\"vite_index.md\":\"9b63648a\",\"vite_vite配置.md\":\"10e00a82\",\"vite_构建工具.md\":\"b4bfeac5\",\"vscode_index.md\":\"f0fe79b8\",\"vscode_vscode本地调试vue代码.md\":\"db77e503\",\"vscode_插件样例.md\":\"3c71b5e1\",\"vscode_自定义插件.md\":\"324a6efe\",\"vue2_communication.md\":\"9f60d206\",\"vue2_diff算法.md\":\"fb2172e5\",\"vue2_index.md\":\"d75df714\",\"vue2_interview.md\":\"ddf3ce67\",\"vue2_jsx.md\":\"210fd957\",\"vue2_nexttick原理.md\":\"1f6f4ac2\",\"vue2_provide-inject使用.md\":\"04458e58\",\"vue2_vue代码片段.md\":\"bc3c67a3\",\"vue2_watch_computed.md\":\"e099c387\",\"vue2_双向数据绑定.md\":\"11fd644a\",\"vue3_suspense.md\":\"ecbb3412\",\"vue3_compositionapi.md\":\"8e187761\",\"vue3_defineemits.md\":\"5c31961b\",\"vue3_defineprops.md\":\"50185c64\",\"vue3_index.md\":\"9c8c196f\",\"vue3_reactive.md\":\"b2cfa629\",\"vue3_vmodel.md\":\"adfd5503\",\"vue3_vue3代码片段.md\":\"04ee495a\",\"vue3_vue3学习图谱.md\":\"0cb303d2\",\"web_qps.md\":\"2ee0ef5b\",\"web_index.md\":\"bfdcb44b\",\"web_代理服务器搭建.md\":\"13d66c33\",\"web_性能优化.md\":\"50fabba8\",\"webpack_index.md\":\"a9577f90\",\"webpack_plugin.md\":\"392c92d7\"}")</script>
    <script type="module" async src="/assets/app.87eb6f1c.js"></script>
    
  </body>
</html>